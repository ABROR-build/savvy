{% extends 'base.html' %}

{% block content %}
{% if not request.user.is_authenticated %}
    <div class="p-10 lg:p-20 text-center">
        <h2 class="text-3xl lg:text-4xl font-semibold text-white mb-6">Login</h2>
        <form method="post" action="." class="lg:w-1/4 px-4 mx-auto">
            {% csrf_token %}
            <div class="mb-5">
                <input type="text" placeholder="Xodim ismi" name="username" class="w-full px-4 opacity-80 py-2 rounded-xl border-2 border-white-500 focus:border-orange-500 focus:outline-none text-left">
            </div>


            <div class="mb-5">
                <input type="password" placeholder="Parol" name="password" class="w-full px-4 py-2 opacity-80 rounded-xl border-2 border-white-500 focus:border-orange-500 focus:outline-none">
            </div>


            {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="mb-5 p-4 rounded-xl bg-red-300 text-orange">
                            <p>{{ error|escape }}</p>
                        </div>
                    {% endfor %}
                {% endfor %}
            {% endif %}
            <button type="submit" class="px-5 w-full py-3 rounded-xl text-white text-opacity-60 bg-neutral-600 hover:bg-orange-800">Login</button>
        </form>
        <p class="pt-5 text-white opacity-50">
            Don't have an account <a class="text-white font-semibold hover:opacity-40" href="{% url 'registration' %}">Register</a>
        </p>
    </div>
{% else %}
<div class="p-10 lg:p-20 text-center">
    <h1 class="text-3xl lg:text-4xl text-white mb-5">Salom {{ user.username }}</h1>
    <a class="p-20 text-xl text-white" href="{% url 'list_services' %}">Servislar</a>
</div>
{% endif %}
{% load static %}
<div class="absolute mb-10 inset-x-0 bottom-0 h-32 border-white flex justify-center items-center">
    <img class="block" src="{% static 'assets/savvy_white.png' %}" width="90px">
</div>
<p class="absolute mb-10 inset-x-0 bottom-0 h-8 border-white flex justify-center items-center mt-2 text-white opacity-50 text-center">
            Powered by Mega Centre
</p>




{% endblock content %}